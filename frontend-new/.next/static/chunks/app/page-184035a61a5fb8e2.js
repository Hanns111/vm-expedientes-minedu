(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{845:function(e,s,t){Promise.resolve().then(t.bind(t,8095))},8095:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return H}});var a=t(7437),r=t(2265),l=t(1827),i=t(6637),n=t(9036),c=t(2457),o=t(7480),d=t(1541),m=t(2882),x=t(7256),u=t(6061),h=t(1657);let p=(0,u.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",system:"bg-system-primary text-white hover:bg-system-secondary",success:"bg-system-success text-white hover:bg-green-600",warning:"bg-system-warning text-white hover:bg-yellow-600",error:"bg-system-error text-white hover:bg-red-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:i=!1,...n}=e,c=i?x.g7:"button";return(0,a.jsx)(c,{className:(0,h.cn)(p({variant:r,size:l,className:t})),ref:s,...n})});g.displayName="Button";let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,h.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});j.displayName="Card";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,h.cn)("flex flex-col space-y-1.5 p-6",t),...r})});f.displayName="CardHeader";let b=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,h.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});b.displayName="CardTitle";let N=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,h.cn)("text-sm text-muted-foreground",t),...r})});N.displayName="CardDescription";let v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,h.cn)("p-6 pt-0",t),...r})});v.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,h.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";let y=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,h.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});y.displayName="Textarea";var w=t(6654),S=t(6224),_=t(3711),C=t(6141),D=t(5083);class T{async request(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat(this.baseURL).concat(e),a={...s,headers:{"Content-Type":"application/json",...s.headers}};try{let e=await fetch(t,a);if(!e.ok){let s=await e.json().catch(()=>({}));throw Error(s.detail||"HTTP ".concat(e.status,": ").concat(e.statusText))}return await e.json()}catch(e){if(e instanceof Error)throw e;throw Error("Error de conexi\xf3n con el servidor")}}async search(e){return this.request("/search",{method:"POST",body:JSON.stringify(e)})}async hybridSearch(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.search({query:e,method:"hybrid",top_k:10,fusion_method:"weighted",...s})}async uploadDocument(e,s){let t=new FormData;return t.append("file",e),(null==s?void 0:s.title)&&t.append("title",s.title),(null==s?void 0:s.description)&&t.append("description",s.description),this.request("/documents/upload",{method:"POST",headers:{},body:t})}async getSystemStatus(){return this.request("/health")}async getDocuments(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.request("/documents?limit=".concat(e,"&offset=").concat(s))}async deleteDocument(e){return this.request("/documents/".concat(e),{method:"DELETE"})}async getMetrics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"24h";return this.request("/metrics?range=".concat(e))}async getSearchHistory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this.request("/search/history?limit=".concat(e))}constructor(e="http://backend:8000"){this.baseURL=e}}let E=new T;function k(e){return e<1e3?"".concat(Math.round(e),"ms"):"".concat((e/1e3).toFixed(2),"s")}function I(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;if(e.length<=s)return e;let t=e.slice(0,s),a=t.lastIndexOf(" ");return a>0?t.slice(0,a)+"...":t+"..."}function A(){let[e,s]=(0,r.useState)(""),[t,i]=(0,r.useState)(!1),[n,c]=(0,r.useState)(null),[o,d]=(0,r.useState)("hybrid"),[m,x]=(0,r.useState)([]),{toast:u}=(0,D.pm)(),h=async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;if(!s.trim()){u({title:"Query vac\xedo",description:"Por favor ingresa una consulta para buscar.",variant:"destructive"});return}i(!0);try{let e;let t=Date.now();switch(o){case"hybrid":default:e=await E.hybridSearch(s);break;case"bm25":e=await E.search({query:s,method:"bm25"});break;case"tfidf":e=await E.search({query:s,method:"tfidf"});break;case"transformers":e=await E.search({query:s,method:"transformers"})}let a=Date.now()-t;c(e);let r={query:s,timestamp:new Date().toLocaleString(),method:o,resultsCount:e.results.length,processingTime:e.processing_time||a/1e3};x(e=>[r,...e.slice(0,9)]),u({title:"B\xfasqueda completada",description:"".concat(e.results.length," resultados encontrados en ").concat(k(1e3*e.processing_time||a),".")})}catch(e){u({title:"Error en la b\xfasqueda",description:e instanceof Error?e.message:"Error desconocido",variant:"destructive"}),c(null)}finally{i(!1)}},p=e=>{navigator.clipboard.writeText(e),u({title:"Copiado",description:"El contenido se ha copiado al portapapeles."})},T=e=>{switch(e){case"hybrid":return"bg-purple-100 text-purple-800 border-purple-200";case"bm25":return"bg-blue-100 text-blue-800 border-blue-200";case"tfidf":return"bg-green-100 text-green-800 border-green-200";case"transformers":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=e=>e>=.8?"text-green-600 bg-green-50":e>=.6?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50";return(0,a.jsxs)("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)(j,{children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"h-6 w-6"}),"B\xfasqueda H\xedbrida MINEDU"]}),(0,a.jsx)(N,{children:"Sistema de b\xfasqueda inteligente con IA para documentos administrativos"})]}),(0,a.jsxs)(v,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"M\xe9todo:"}),["hybrid","bm25","tfidf","transformers"].map(e=>(0,a.jsx)(g,{variant:o===e?"default":"outline",size:"sm",onClick:()=>d(e),className:"text-xs ".concat(o===e?"bg-blue-600":""),children:e.toUpperCase()},e))]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(y,{placeholder:"Ej: \xbfCu\xe1l es el monto m\xe1ximo para vi\xe1ticos de funcionarios?",value:e,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},className:"min-h-[80px] resize-none",disabled:t}),(0,a.jsx)(g,{onClick:()=>h(),disabled:t||!e.trim(),className:"bg-blue-600 hover:bg-blue-700 px-6",children:t?(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):(0,a.jsx)(l.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Consultas de ejemplo:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["\xbfCu\xe1l es el monto m\xe1ximo para vi\xe1ticos?","\xbfQu\xe9 documentos requiere la solicitud de licencia?","\xbfCu\xe1l es el procedimiento para declaraci\xf3n jurada?","\xbfCu\xe1nto tiempo antes debo solicitar permisos?","Monto m\xe1ximo para gastos de representaci\xf3n"].map((e,r)=>(0,a.jsx)(g,{variant:"outline",size:"sm",onClick:()=>{s(e),h(e)},className:"text-xs text-blue-600 border-blue-200 hover:bg-blue-50",disabled:t,children:I(e,50)},r))})]})]})]}),n&&(0,a.jsxs)(j,{children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5"}),"Resultados (",n.total_results,")"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-md border ".concat(T(n.method)),children:n.method.toUpperCase()}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:k(1e3*n.processing_time)})]})]}),(0,a.jsxs)(N,{children:['Consulta: "',n.query,'"']})]}),(0,a.jsx)(v,{children:0===n.results.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(l.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No se encontraron resultados para esta consulta."}),(0,a.jsx)("p",{className:"text-sm",children:"Prueba con diferentes t\xe9rminos o utiliza otro m\xe9todo de b\xfasqueda."})]}):(0,a.jsx)("div",{className:"space-y-4",children:n.results.map((e,s)=>(0,a.jsx)(j,{className:"border-l-4 border-l-blue-500",children:(0,a.jsx)(v,{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsxs)("span",{className:"px-2 py-1 text-xs rounded-md ".concat(A(e.score)),children:["Score: ",(100*e.score).toFixed(1),"%"]}),e.metadata.source_document&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["\uD83D\uDCC4 ",e.metadata.source_document]}),e.metadata.page_number&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["P\xe1gina ",e.metadata.page_number]})]}),(0,a.jsx)("div",{className:"text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:function(e,s){if(!s.trim())return e;let t=s.trim().split(/\s+/),a=e;return t.forEach(e=>{let s=RegExp("(".concat(e,")"),"gi");a=a.replace(s,'<mark class="bg-yellow-200 text-yellow-900 px-1 rounded">$1</mark>')}),a}(I(e.content,400),n.query)}}),e.metadata.section&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-600",children:["Secci\xf3n: ",e.metadata.section]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>p(e.content),title:"Copiar contenido",children:(0,a.jsx)(S.Z,{className:"h-4 w-4"})}),e.metadata.chunk_id&&(0,a.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>p(e.metadata.chunk_id),title:"Copiar ID del fragmento",children:(0,a.jsx)(_.Z,{className:"h-4 w-4"})})]})]})})},s))})})]}),m.length>0&&(0,a.jsxs)(j,{children:[(0,a.jsx)(f,{children:(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-5 w-5"}),"Historial de B\xfasquedas"]})}),(0,a.jsx)(v,{children:(0,a.jsx)("div",{className:"space-y-2",children:m.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>{s(e.query),d(e.method)},children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:I(e.query,60)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.timestamp," • ",e.resultsCount," resultados • ",k(1e3*e.processingTime)]})]}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-md border ".concat(T(e.method)),children:e.method.toUpperCase()})]},t))})})]})]})}var Z=t(5020),q=t(3008),M=t(1981),O=t(8734),z=t(2549);let P=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,h.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});function R(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!1),{toast:n}=(0,D.pm)(),c=(0,r.useCallback)(e=>{let t=e.map(e=>({id:Math.random().toString(36).substr(2,9),file:e,status:"pending"}));s(e=>[...e,...t]),n({title:"".concat(e.length," archivo(s) agregado(s)"),description:"Configura los detalles y haz clic en 'Procesar' para subirlos."})},[n]),{getRootProps:o,getInputProps:m,isDragActive:x}=(0,Z.uI)({onDrop:c,accept:{"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"]},multiple:!0,maxFileSize:52428800}),u=(e,t)=>{s(s=>s.map(s=>s.id===e?{...s,...t}:s))},h=e=>{s(s=>s.filter(s=>s.id!==e))},p=async e=>{try{u(e.id,{status:"uploading",progress:0});let s=await E.uploadDocument(e.file,{title:e.title,description:e.description});u(e.id,{status:"completed",response:s,progress:100}),n({title:"Documento procesado exitosamente",description:"".concat(e.file.name," se ha cargado y procesado correctamente.")})}catch(t){let s=t instanceof Error?t.message:"Error desconocido";u(e.id,{status:"error",error:s}),n({title:"Error al procesar documento",description:s,variant:"destructive"})}},w=async()=>{for(let s of(l(!0),e.filter(e=>"pending"===e.status)))await p(s);l(!1)},S=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},_=e=>{switch(e){case"completed":return(0,a.jsx)(q.Z,{className:"h-5 w-5 text-green-500"});case"error":return(0,a.jsx)(M.Z,{className:"h-5 w-5 text-red-500"});case"uploading":return(0,a.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-blue-500 border-t-transparent"});default:return(0,a.jsx)(O.Z,{className:"h-5 w-5 text-gray-500"})}};return(0,a.jsxs)(j,{className:"w-full max-w-4xl mx-auto",children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-6 w-6"}),"Procesador de Documentos MINEDU"]}),(0,a.jsx)(N,{children:"Sube documentos administrativos para procesamiento con IA. Formatos soportados: PDF, DOC, DOCX, TXT (m\xe1x. 50MB)"})]}),(0,a.jsxs)(v,{className:"space-y-6",children:[(0,a.jsxs)("div",{...o(),className:"\n            border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n            ".concat(x?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50","\n          "),children:[(0,a.jsx)("input",{...m()}),(0,a.jsx)(d.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),x?(0,a.jsx)("p",{className:"text-blue-600 font-medium",children:"Suelta los archivos aqu\xed..."}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 font-medium mb-2",children:"Arrastra y suelta documentos aqu\xed, o haz clic para seleccionar"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"PDF, DOC, DOCX, TXT hasta 50MB cada uno"})]})]}),e.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Documentos (",e.length,")"]}),e.some(e=>"pending"===e.status)&&(0,a.jsx)(g,{onClick:w,disabled:t,className:"bg-blue-600 hover:bg-blue-700",children:t?"Procesando...":"Procesar Todos"})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>{var s;return(0,a.jsx)(j,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:_(e.status)}),(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.file.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:S(e.file.size)})]}),"pending"===e.status&&(0,a.jsx)(g,{variant:"ghost",size:"sm",onClick:()=>h(e.id),children:(0,a.jsx)(z.Z,{className:"h-4 w-4"})})]}),"pending"===e.status&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo (opcional)"}),(0,a.jsx)(P,{placeholder:"Ej: Directiva de Vi\xe1ticos 2024",value:e.title||"",onChange:s=>u(e.id,{title:s.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n (opcional)"}),(0,a.jsx)(y,{placeholder:"Descripci\xf3n del documento...",value:e.description||"",onChange:s=>u(e.id,{description:s.target.value}),rows:2})]})]}),"uploading"===e.status&&void 0!==e.progress&&(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})}),"completed"===e.status&&e.response&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-800",children:[(0,a.jsx)(q.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-medium",children:"Procesado exitosamente"})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-green-700",children:[(0,a.jsxs)("p",{children:["ID: ",e.response.document_id]}),(0,a.jsxs)("p",{children:["Fragmentos generados: ",e.response.chunks_generated||"N/A"]}),(0,a.jsxs)("p",{children:["Tiempo: ",(null===(s=e.response.processing_time)||void 0===s?void 0:s.toFixed(2))||"N/A","s"]})]})]}),"error"===e.status&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-800",children:[(0,a.jsx)(M.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-medium",children:"Error al procesar"})]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-red-700",children:e.error}),(0,a.jsx)(g,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>p(e),children:"Reintentar"})]}),"pending"===e.status&&(0,a.jsx)(g,{onClick:()=>p(e),disabled:t,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Procesar Documento"})]})]})},e.id)})})]})]})]})}P.displayName="Input";var B=t(998),F=t(7332),U=t(5790);function L(){let[e,s]=(0,r.useState)(null),[t,i]=(0,r.useState)(null),[n,o]=(0,r.useState)(!0),[d,m]=(0,r.useState)(null),{toast:x}=(0,D.pm)(),u=async()=>{try{o(!0);let e=await E.getSystemStatus();i(e);let t=await E.getMetrics("24h");s(t),m(new Date)}catch(e){x({title:"Error al cargar m\xe9tricas",description:e instanceof Error?e.message:"Error desconocido",variant:"destructive"}),s({total_documents:125,total_searches:1847,average_precision:94.2,uptime:99.8,recent_searches:[{query:"\xbfCu\xe1l es el monto m\xe1ximo para vi\xe1ticos?",method:"hybrid",processing_time:.342,timestamp:new Date(Date.now()-5e3).toISOString(),results_count:8},{query:"Procedimiento declaraci\xf3n jurada",method:"bm25",processing_time:.156,timestamp:new Date(Date.now()-25e3).toISOString(),results_count:12},{query:"Documentos requeridos licencia",method:"transformers",processing_time:.489,timestamp:new Date(Date.now()-45e3).toISOString(),results_count:6}],performance_metrics:{avg_search_time:.298,cache_hit_rate:78.5,error_rate:1.2,active_connections:23},vectorstore_status:{bm25:{status:"healthy",size:2.4,last_updated:new Date(Date.now()-36e5).toISOString()},tfidf:{status:"healthy",size:1.8,last_updated:new Date(Date.now()-36e5).toISOString()},transformers:{status:"healthy",size:45.6,last_updated:new Date(Date.now()-36e5).toISOString()}}})}finally{o(!1)}};(0,r.useEffect)(()=>{u();let e=setInterval(u,3e4);return()=>clearInterval(e)},[]);let h=e=>{switch(e){case"healthy":return(0,a.jsx)(q.Z,{className:"h-5 w-5 text-green-500"});case"degraded":return(0,a.jsx)(M.Z,{className:"h-5 w-5 text-yellow-500"});case"down":case"error":return(0,a.jsx)(M.Z,{className:"h-5 w-5 text-red-500"});default:return(0,a.jsx)(M.Z,{className:"h-5 w-5 text-gray-500"})}},p=e=>{switch(e){case"healthy":return"text-green-600 bg-green-50 border-green-200";case"degraded":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"down":case"error":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},y=e=>e>=1024?"".concat((e/1024).toFixed(1)," GB"):"".concat(e.toFixed(1)," MB");return n?(0,a.jsx)("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent"}),(0,a.jsx)("span",{className:"ml-3 text-gray-600",children:"Cargando m\xe9tricas..."})]})}):(0,a.jsxs)("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-7 w-7"}),"Dashboard de M\xe9tricas MINEDU"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Monitoreo en tiempo real del sistema de IA"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[d&&(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["\xdaltima actualizaci\xf3n: ",d.toLocaleTimeString()]}),(0,a.jsx)(g,{onClick:u,variant:"outline",size:"sm",children:"Actualizar"})]})]}),t&&(0,a.jsxs)(j,{children:[(0,a.jsx)(f,{children:(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(B.Z,{className:"h-5 w-5"}),"Estado del Sistema"]})}),(0,a.jsx)(v,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[h(t.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Estado General"}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-md border ".concat(p(t.status)),children:t.status.toUpperCase()})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-600",children:"Versi\xf3n"}),(0,a.jsx)("p",{className:"text-lg",children:t.version})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-600",children:"Tiempo Activo"}),(0,a.jsx)("p",{className:"text-lg",children:(e=>{let s=Math.floor(e/86400),t=Math.floor(e%86400/3600),a=Math.floor(e%3600/60);return s>0?"".concat(s,"d ").concat(t,"h ").concat(a,"m"):t>0?"".concat(t,"h ").concat(a,"m"):"".concat(a,"m")})(t.uptime)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-600",children:"B\xfasquedas Activas"}),(0,a.jsx)("p",{className:"text-lg",children:t.active_searches})]})]})})]}),e&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(j,{children:(0,a.jsx)(v,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(F.Z,{className:"h-8 w-8 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Documentos"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.total_documents.toLocaleString()})]})]})})}),(0,a.jsx)(j,{children:(0,a.jsx)(v,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.Z,{className:"h-8 w-8 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"B\xfasquedas Totales"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.total_searches.toLocaleString()})]})]})})}),(0,a.jsx)(j,{children:(0,a.jsx)(v,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(U.Z,{className:"h-8 w-8 text-purple-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Precisi\xf3n Promedio"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[e.average_precision,"%"]})]})]})})}),(0,a.jsx)(j,{children:(0,a.jsx)(v,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(C.Z,{className:"h-8 w-8 text-orange-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Tiempo Promedio"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:k(1e3*e.performance_metrics.avg_search_time)})]})]})})})]}),e&&(0,a.jsxs)(j,{children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(F.Z,{className:"h-5 w-5"}),"Estado de Vectorstores"]}),(0,a.jsx)(N,{children:"Estado y m\xe9tricas de los \xedndices de b\xfasqueda"})]}),(0,a.jsx)(v,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(e.vectorstore_status).map(e=>{let[s,t]=e;return(0,a.jsx)(j,{className:"border-l-4 border-l-blue-500",children:(0,a.jsxs)(v,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:s.toUpperCase()}),h(t.status)]}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,a.jsxs)("p",{children:["Tama\xf1o: ",y(t.size)]}),(0,a.jsxs)("p",{children:["Actualizado: ",new Date(t.last_updated).toLocaleString()]})]}),(0,a.jsx)("span",{className:"inline-block mt-2 px-2 py-1 text-xs rounded-md border ".concat(p(t.status)),children:t.status.toUpperCase()})]})},s)})})})]}),e&&(0,a.jsxs)(j,{children:[(0,a.jsx)(f,{children:(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(B.Z,{className:"h-5 w-5"}),"M\xe9tricas de Rendimiento"]})}),(0,a.jsx)(v,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Tiempo Promedio"}),(0,a.jsx)("p",{className:"text-xl font-bold text-blue-900",children:k(1e3*e.performance_metrics.avg_search_time)})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Tasa de Cache"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-green-900",children:[e.performance_metrics.cache_hit_rate,"%"]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Tasa de Error"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-yellow-900",children:[e.performance_metrics.error_rate,"%"]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-800",children:"Conexiones Activas"}),(0,a.jsx)("p",{className:"text-xl font-bold text-purple-900",children:e.performance_metrics.active_connections})]})]})})]}),e&&e.recent_searches&&(0,a.jsxs)(j,{children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)(b,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-5 w-5"}),"B\xfasquedas Recientes"]}),(0,a.jsx)(N,{children:"\xdaltimas consultas procesadas por el sistema"})]}),(0,a.jsx)(v,{children:(0,a.jsx)("div",{className:"space-y-3",children:e.recent_searches.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 truncate max-w-md",children:e.query}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(e.timestamp).toLocaleString()," • ",e.results_count," resultados"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:k(1e3*e.processing_time)}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-md border ".concat("hybrid"===e.method?"bg-purple-100 text-purple-800 border-purple-200":"bm25"===e.method?"bg-blue-100 text-blue-800 border-blue-200":"tfidf"===e.method?"bg-green-100 text-green-800 border-green-200":"bg-orange-100 text-orange-800 border-orange-200"),children:e.method.toUpperCase()})]})]},s))})})]})]})}function H(){let[e,s]=(0,r.useState)(""),[t,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)("home"),p=[{icon:l.Z,title:"Hybrid Intelligent Search",description:"System combining TF-IDF, BM25 and Transformers with 94.2% accuracy",color:"text-blue-600"},{icon:i.Z,title:"Document Processing",description:"Advanced OCR and entity extraction for complex documents",color:"text-green-600"},{icon:n.Z,title:"Enterprise Security",description:"ISO27001 and NIST compliance with sensitive data protection",color:"text-purple-600"},{icon:c.Z,title:"Analytics & Metrics",description:"Complete dashboard with real-time performance analysis",color:"text-orange-600"}];return(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)("header",{className:"border-b bg-white sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"AI Search"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Hybrid Document Platform"})]})]}),(0,a.jsxs)("nav",{className:"hidden md:flex space-x-2",children:[(0,a.jsxs)(g,{variant:"home"===u?"default":"ghost",onClick:()=>h("home"),className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),"Inicio"]}),(0,a.jsxs)(g,{variant:"search"===u?"default":"ghost",onClick:()=>h("search"),className:"flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),"B\xfasqueda"]}),(0,a.jsxs)(g,{variant:"upload"===u?"default":"ghost",onClick:()=>h("upload"),className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"Documentos"]}),(0,a.jsxs)(g,{variant:"metrics"===u?"default":"ghost",onClick:()=>h("metrics"),className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"M\xe9tricas"]})]})]})}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8",children:["home"===u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("section",{className:"text-center mb-16",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h2",{className:"text-4xl md:text-6xl font-bold mb-6 text-gray-900",children:"Sistema de IA MINEDU"}),(0,a.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Plataforma avanzada de IA con tecnolog\xeda de b\xfasqueda h\xedbrida. Encuentra informaci\xf3n precisa en documentos complejos con 94.2% de precisi\xf3n."}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto mb-8",children:[(0,a.jsx)("div",{className:"flex gap-3",children:(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(y,{placeholder:"\xbfCu\xe1l es el monto m\xe1ximo para vi\xe1ticos en comisiones de servicio?",value:e,onChange:e=>s(e.target.value),className:"min-h-[120px] text-base"})})}),(0,a.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,a.jsxs)(g,{onClick:()=>h("search"),className:"flex-1 h-12 bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2"}),"Buscar con IA"]}),(0,a.jsxs)(g,{variant:"outline",className:"h-12",onClick:()=>h("upload"),children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 mr-2"}),"Subir Documento"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Ejemplos:"}),["\xbfCu\xe1l es el procedimiento para solicitar vi\xe1ticos?","Montos m\xe1ximos para comisiones de servicio","Documentos requeridos para procedimientos"].map((e,t)=>(0,a.jsx)(g,{variant:"outline",size:"sm",onClick:()=>{s(e),h("search")},className:"text-xs",children:e},t))]})]})}),(0,a.jsx)("section",{className:"mb-16",children:(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{label:"System Accuracy",value:"94.2%",color:"text-green-600"},{label:"Documents Processed",value:"10,000+",color:"text-blue-600"},{label:"Daily Queries",value:"500+",color:"text-purple-600"},{label:"Response Time",value:"<2s",color:"text-orange-600"}].map((e,s)=>(0,a.jsx)(j,{className:"text-center",children:(0,a.jsxs)(v,{className:"p-6",children:[(0,a.jsx)("div",{className:"text-3xl font-bold ".concat(e.color," mb-2"),children:e.value}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.label})]})},s))})}),(0,a.jsxs)("section",{className:"mb-16",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h3",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Tecnolog\xeda Avanzada para Gobierno"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Nuestro sistema h\xedbrido combina m\xfaltiples t\xe9cnicas de IA para entregar m\xe1xima precisi\xf3n en recuperaci\xf3n de informaci\xf3n y an\xe1lisis de documentos."})]}),(0,a.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((e,s)=>(0,a.jsxs)(j,{className:"group hover:shadow-lg transition-shadow duration-200",children:[(0,a.jsxs)(f,{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto rounded-full bg-gray-100 flex items-center justify-center mb-4",children:(0,a.jsx)(e.icon,{className:"w-8 h-8 ".concat(e.color)})}),(0,a.jsx)(b,{className:"text-lg",children:e.title})]}),(0,a.jsx)(v,{children:(0,a.jsx)(N,{className:"text-center",children:e.description})})]},s))})]}),(0,a.jsx)("section",{className:"text-center",children:(0,a.jsx)(j,{className:"max-w-4xl mx-auto bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:(0,a.jsxs)(v,{className:"p-12",children:[(0,a.jsx)("h3",{className:"text-3xl font-bold mb-4",children:"\xbfListo para mejorar la eficiencia de tu organizaci\xf3n?"}),(0,a.jsx)("p",{className:"text-xl mb-8 opacity-90",children:"\xdanete a las organizaciones que conf\xedan en nuestra tecnolog\xeda para gesti\xf3n inteligente y an\xe1lisis de documentos."}),(0,a.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,a.jsxs)(g,{variant:"outline",size:"lg",className:"bg-white text-gray-900 hover:bg-gray-100",onClick:()=>h("search"),children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 mr-2"}),"Probar Sistema"]}),(0,a.jsx)(g,{variant:"outline",size:"lg",className:"bg-transparent border-white text-white hover:bg-white/10",onClick:()=>h("metrics"),children:"Ver M\xe9tricas"})]})]})})})]}),"search"===u&&(0,a.jsx)("div",{className:"py-8",children:(0,a.jsx)(A,{})}),"upload"===u&&(0,a.jsx)("div",{className:"py-8",children:(0,a.jsx)(R,{})}),"metrics"===u&&(0,a.jsx)("div",{className:"py-8",children:(0,a.jsx)(L,{})})]}),(0,a.jsx)("footer",{className:"mt-20 border-t bg-gray-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"text-center text-gray-600",children:[(0,a.jsx)("p",{children:"\xa9 2024 AI Search Platform - Hybrid Document System. All rights reserved."}),(0,a.jsx)("p",{className:"text-sm mt-2",children:"Advanced AI Technology | Powered by Hybrid Intelligence"})]})})})]})}},5083:function(e,s,t){"use strict";t.d(s,{pm:function(){return x}});var a=t(2265);let r=0,l=new Map,i=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},n=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],o={toasts:[]};function d(e){o=n(o,e),c.forEach(e=>{e(o)})}function m(e){let{...s}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function x(){let[e,s]=a.useState(o);return a.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},1657:function(e,s,t){"use strict";t.d(s,{cn:function(){return l}});var a=t(7042),r=t(4769);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}}},function(e){e.O(0,[964,110,971,938,744],function(){return e(e.s=845)}),_N_E=e.O()}]);